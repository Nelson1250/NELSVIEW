{"ast":null,"code":"var _jsxFileName = \"/Users/nelso/Desktop/pytry/frontend/src/DicomViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DicomViewer = () => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [uploadId, setUploadId] = useState(null);\n  const [fileCount, setFileCount] = useState(0);\n  const [viewMode, setViewMode] = useState('2d'); // '2d' or '3d'\n  const [isLoading, setIsLoading] = useState(false); // For uploads\n  const [isProcessing, setIsProcessing] = useState(false); // For DICOM processing\n\n  const [error, setError] = useState(null);\n\n  // State for results\n  const [htmlViewerUrl, setHtmlViewerUrl] = useState(null); // For 3D viewer.html\n  const [gifUrl, setGifUrl] = useState(null); // For 3D animated GIF\n  const [staticImages, setStaticImages] = useState([]); // For 2D slices or 3D static fallbacks\n  const [currentStaticImageIdx, setCurrentStaticImageIdx] = useState(0);\n\n  // Base URL for API calls - adjust if your Flask app runs elsewhere\n  const API_BASE_URL = 'http://localhost:5001';\n  useEffect(() => {\n    // Reset results when view mode changes or new files are uploaded\n    setHtmlViewerUrl(null);\n    setGifUrl(null);\n    setStaticImages([]);\n    setCurrentStaticImageIdx(0);\n    setError(null);\n  }, [viewMode, files]); // Removed uploadId from dependencies to avoid reset during processing\n\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files.length > 0) {\n      setFiles(Array.from(e.target.files));\n      // Reset previous upload status and results\n      setUploadId(null);\n      setFileCount(0);\n      setError(null);\n      setHtmlViewerUrl(null);\n      setGifUrl(null);\n      setStaticImages([]);\n    } else {\n      setFiles([]);\n    }\n  };\n  const handleUploadFiles = async () => {\n    if (files.length === 0) {\n      setError('Please select DICOM files to upload.');\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    const formData = new FormData();\n    files.forEach(file => formData.append('files[]', file));\n    try {\n      const response = await fetch(`${API_BASE_URL}/upload`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `Upload failed with status: ${response.status}`);\n      }\n      setUploadId(data.upload_id);\n      setFileCount(data.file_count);\n      setError(null); // Clear any previous errors\n    } catch (err) {\n      console.error(\"Upload error:\", err);\n      setError(`Upload Error: ${err.message}`);\n      setUploadId(null); // Reset uploadId on error\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleProcessFiles = async () => {\n    if (!uploadId) {\n      setError('Please upload files before processing.');\n      return;\n    }\n    setIsProcessing(true);\n    setError(null);\n    setHtmlViewerUrl(null);\n    setGifUrl(null);\n    setStaticImages([]);\n    try {\n      const response = await fetch(`${API_BASE_URL}/process`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          upload_id: uploadId,\n          view_type: viewMode\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || data.details || `Processing failed with status: ${response.status}`);\n      }\n      if (data.success) {\n        if (viewMode === '3d') {\n          setHtmlViewerUrl(data.html_viewer_url || null); // example: /static/results/upload_id_output/viewer.html\n          setGifUrl(data.gif_url || null);\n          setStaticImages(data.static_images || []); // Fallback static images for 3D\n        } else {\n          // 2D mode\n          setStaticImages(data.images || []);\n        }\n        if (!data.html_viewer_url && !data.gif_url && (!data.static_images || data.static_images.length === 0) && (!data.images || data.images.length === 0)) {\n          setError(\"Processing complete, but no viewable output was found.\");\n        }\n      } else {\n        setError(data.error || \"Processing completed but indicated failure.\");\n      }\n    } catch (err) {\n      console.error(\"Processing error:\", err);\n      setError(`Processing Error: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const renderImageViewer = () => {\n    if (viewMode === '3d') {\n      if (htmlViewerUrl) {\n        // Construct full URL if backend returns relative path\n        const fullHtmlUrl = htmlViewerUrl.startsWith('http') ? htmlViewerUrl : `${API_BASE_URL}${htmlViewerUrl}`;\n        return /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: fullHtmlUrl,\n          title: \"3D Hologram Viewer\",\n          style: {\n            width: '100%',\n            height: '500px',\n            border: '1px solid #ccc'\n          }\n          // sandbox=\"allow-scripts allow-same-origin\" // Consider sandbox attributes for security\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this);\n      }\n      if (gifUrl) {\n        const fullGifUrl = gifUrl.startsWith('http') ? gifUrl : `${API_BASE_URL}${gifUrl}`;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: fullGifUrl,\n          alt: \"3D Animated Hologram\",\n          className: \"dicom-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 16\n        }, this);\n      }\n    }\n\n    // Fallback for 3D if no HTML/GIF, or for 2D views\n    if (staticImages.length > 0) {\n      const fullImgUrl = staticImages[currentStaticImageIdx].startsWith('http') ? staticImages[currentStaticImageIdx] : `${API_BASE_URL}${staticImages[currentStaticImageIdx]}`;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: fullImgUrl,\n          alt: `DICOM View ${currentStaticImageIdx + 1}`,\n          className: \"dicom-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), staticImages.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-navigation\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStaticImageIdx(prev => Math.max(0, prev - 1)),\n            disabled: currentStaticImageIdx === 0,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" Image \", currentStaticImageIdx + 1, \" of \", staticImages.length, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStaticImageIdx(prev => Math.min(staticImages.length - 1, prev + 1)),\n            disabled: currentStaticImageIdx === staticImages.length - 1,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n    if (!isLoading && !isProcessing && !error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"placeholder-text\",\n        children: \"Upload DICOM files and click \\\"Process\\\" to view.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this);\n    }\n    return null; // No image to display yet, or handled by loading/error messages\n  };\n\n  // Basic styling (inline for simplicity, consider moving to CSS file)\n  const styles = `\n    .dicom-viewer-container { display: flex; flex-direction: column; height: 100vh; background-color: #f0f0f0; }\n    .header { background-color: #333; color: white; padding: 15px; text-align: center; }\n    .main-content { display: flex; flex: 1; padding: 15px; gap: 15px; overflow: hidden; }\n    .controls-panel { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); width: 300px; overflow-y: auto; }\n    .viewer-panel { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }\n    .dicom-image { max-width: 100%; max-height: 450px; object-fit: contain; border: 1px solid #ddd; }\n    .placeholder-text { color: #777; font-style: italic; }\n    .error-message { color: red; background-color: #ffe0e0; border: 1px solid red; padding: 10px; border-radius: 5px; margin-bottom: 10px; }\n    .loading-indicator, .processing-indicator { margin: 10px 0; color: #007bff; }\n    .button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; width: 100%; }\n    .button:hover { background-color: #0056b3; }\n    .button:disabled { background-color: #ccc; cursor: not-allowed; }\n    .file-input { margin-bottom: 15px; }\n    .view-mode-toggle button { margin-right: 10px; padding: 8px 12px; /* ... other styles */ }\n    .view-mode-toggle button.active { background-color: #007bff; color: white; }\n    .image-navigation { margin-top: 10px; }\n    .image-navigation button { margin: 0 5px; }\n    .upload-info { background-color: #e7f3ff; border-left: 4px solid #007bff; padding: 10px; margin-top: 15px; font-size: 0.9em;}\n  `;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: styles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dicom-viewer-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"NELSVIEW: DICOM Image Viewer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"controls-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file-upload\",\n              children: \"Upload DICOM Files (.dcm, .ima):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"file-upload\",\n              type: \"file\",\n              multiple: true,\n              accept: \".dcm,.ima\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [files.length, \" file(s) selected.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: handleUploadFiles,\n            disabled: isLoading || files.length === 0,\n            children: isLoading ? 'Uploading...' : 'Upload Selected Files'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), uploadId && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 20\n              }, this), \" \", fileCount, \" file(s) uploaded successfully.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Upload ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 20\n              }, this), \" \", uploadId.substring(0, 8), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), uploadId && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"view-mode-toggle\",\n              style: {\n                marginTop: '20px',\n                marginBottom: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Select View Mode:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('2d'),\n                className: viewMode === '2d' ? 'active' : '',\n                children: \"2D Slices\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('3d'),\n                className: viewMode === '3d' ? 'active' : '',\n                children: \"3D Hologram\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button\",\n              onClick: handleProcessFiles,\n              disabled: isProcessing || !uploadId,\n              children: isProcessing ? 'Processing...' : `Process for ${viewMode.toUpperCase()} View`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"viewer-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: viewMode === '2d' ? 'DICOM Slice Viewer' : '3D Hologram Viewer'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-indicator\",\n            children: \"Uploading files...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 27\n          }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"processing-indicator\",\n            children: \"Processing DICOM data... Please wait.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 30\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 23\n          }, this), renderImageViewer()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(DicomViewer, \"gFoKS2BfoKWSqrvsqNFaTG4SPVw=\");\n_c = DicomViewer;\nexport default DicomViewer;\nvar _c;\n$RefreshReg$(_c, \"DicomViewer\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","DicomViewer","_s","files","setFiles","uploadId","setUploadId","fileCount","setFileCount","viewMode","setViewMode","isLoading","setIsLoading","isProcessing","setIsProcessing","error","setError","htmlViewerUrl","setHtmlViewerUrl","gifUrl","setGifUrl","staticImages","setStaticImages","currentStaticImageIdx","setCurrentStaticImageIdx","API_BASE_URL","handleFileChange","e","target","length","Array","from","handleUploadFiles","formData","FormData","forEach","file","append","response","fetch","method","body","data","json","ok","Error","status","upload_id","file_count","err","console","message","handleProcessFiles","headers","JSON","stringify","view_type","details","success","html_viewer_url","gif_url","static_images","images","renderImageViewer","fullHtmlUrl","startsWith","src","title","style","width","height","border","fileName","_jsxFileName","lineNumber","columnNumber","fullGifUrl","alt","className","fullImgUrl","children","onClick","prev","Math","max","disabled","min","styles","htmlFor","id","type","multiple","accept","onChange","substring","marginTop","marginBottom","toUpperCase","_c","$RefreshReg$"],"sources":["/Users/nelso/Desktop/pytry/frontend/src/DicomViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst DicomViewer = () => {\n  const [files, setFiles] = useState([]);\n  const [uploadId, setUploadId] = useState(null);\n  const [fileCount, setFileCount] = useState(0);\n  const [viewMode, setViewMode] = useState('2d'); // '2d' or '3d'\n  const [isLoading, setIsLoading] = useState(false); // For uploads\n  const [isProcessing, setIsProcessing] = useState(false); // For DICOM processing\n  \n  const [error, setError] = useState(null);\n  \n  // State for results\n  const [htmlViewerUrl, setHtmlViewerUrl] = useState(null); // For 3D viewer.html\n  const [gifUrl, setGifUrl] = useState(null); // For 3D animated GIF\n  const [staticImages, setStaticImages] = useState([]); // For 2D slices or 3D static fallbacks\n  const [currentStaticImageIdx, setCurrentStaticImageIdx] = useState(0);\n\n  // Base URL for API calls - adjust if your Flask app runs elsewhere\n  const API_BASE_URL = 'http://localhost:5001';\n\n  useEffect(() => {\n    // Reset results when view mode changes or new files are uploaded\n    setHtmlViewerUrl(null);\n    setGifUrl(null);\n    setStaticImages([]);\n    setCurrentStaticImageIdx(0);\n    setError(null);\n  }, [viewMode, files]); // Removed uploadId from dependencies to avoid reset during processing\n\n  const handleFileChange = (e) => {\n    if (e.target.files && e.target.files.length > 0) {\n      setFiles(Array.from(e.target.files));\n      // Reset previous upload status and results\n      setUploadId(null); \n      setFileCount(0);\n      setError(null);\n      setHtmlViewerUrl(null);\n      setGifUrl(null);\n      setStaticImages([]);\n    } else {\n      setFiles([]);\n    }\n  };\n\n  const handleUploadFiles = async () => {\n    if (files.length === 0) {\n      setError('Please select DICOM files to upload.');\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    const formData = new FormData();\n    files.forEach(file => formData.append('files[]', file));\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `Upload failed with status: ${response.status}`);\n      }\n      setUploadId(data.upload_id);\n      setFileCount(data.file_count);\n      setError(null); // Clear any previous errors\n    } catch (err) {\n      console.error(\"Upload error:\", err);\n      setError(`Upload Error: ${err.message}`);\n      setUploadId(null); // Reset uploadId on error\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleProcessFiles = async () => {\n    if (!uploadId) {\n      setError('Please upload files before processing.');\n      return;\n    }\n    setIsProcessing(true);\n    setError(null);\n    setHtmlViewerUrl(null);\n    setGifUrl(null);\n    setStaticImages([]);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/process`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ upload_id: uploadId, view_type: viewMode }),\n      });\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || data.details || `Processing failed with status: ${response.status}`);\n      }\n\n      if (data.success) {\n        if (viewMode === '3d') {\n          setHtmlViewerUrl(data.html_viewer_url || null); // example: /static/results/upload_id_output/viewer.html\n          setGifUrl(data.gif_url || null);\n          setStaticImages(data.static_images || []); // Fallback static images for 3D\n        } else { // 2D mode\n          setStaticImages(data.images || []);\n        }\n         if (!data.html_viewer_url && !data.gif_url && (!data.static_images || data.static_images.length === 0) && (!data.images || data.images.length === 0) ) {\n             setError(\"Processing complete, but no viewable output was found.\");\n         }\n      } else {\n         setError(data.error || \"Processing completed but indicated failure.\");\n      }\n\n    } catch (err) {\n      console.error(\"Processing error:\", err);\n      setError(`Processing Error: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  \n  const renderImageViewer = () => {\n    if (viewMode === '3d') {\n      if (htmlViewerUrl) {\n        // Construct full URL if backend returns relative path\n        const fullHtmlUrl = htmlViewerUrl.startsWith('http') ? htmlViewerUrl : `${API_BASE_URL}${htmlViewerUrl}`;\n        return (\n          <iframe\n            src={fullHtmlUrl}\n            title=\"3D Hologram Viewer\"\n            style={{ width: '100%', height: '500px', border: '1px solid #ccc' }}\n            // sandbox=\"allow-scripts allow-same-origin\" // Consider sandbox attributes for security\n          />\n        );\n      }\n      if (gifUrl) {\n        const fullGifUrl = gifUrl.startsWith('http') ? gifUrl : `${API_BASE_URL}${gifUrl}`;\n        return <img src={fullGifUrl} alt=\"3D Animated Hologram\" className=\"dicom-image\" />;\n      }\n    }\n\n    // Fallback for 3D if no HTML/GIF, or for 2D views\n    if (staticImages.length > 0) {\n      const fullImgUrl = staticImages[currentStaticImageIdx].startsWith('http') \n          ? staticImages[currentStaticImageIdx] \n          : `${API_BASE_URL}${staticImages[currentStaticImageIdx]}`;\n      return (\n        <>\n          <img src={fullImgUrl} alt={`DICOM View ${currentStaticImageIdx + 1}`} className=\"dicom-image\" />\n          {staticImages.length > 1 && (\n            <div className=\"image-navigation\">\n              <button onClick={() => setCurrentStaticImageIdx(prev => Math.max(0, prev - 1))} disabled={currentStaticImageIdx === 0}>Previous</button>\n              <span> Image {currentStaticImageIdx + 1} of {staticImages.length} </span>\n              <button onClick={() => setCurrentStaticImageIdx(prev => Math.min(staticImages.length - 1, prev + 1))} disabled={currentStaticImageIdx === staticImages.length - 1}>Next</button>\n            </div>\n          )}\n        </>\n      );\n    }\n    \n    if (!isLoading && !isProcessing && !error) {\n         return <div className=\"placeholder-text\">Upload DICOM files and click \"Process\" to view.</div>;\n    }\n    return null; // No image to display yet, or handled by loading/error messages\n  };\n  \n  // Basic styling (inline for simplicity, consider moving to CSS file)\n  const styles = `\n    .dicom-viewer-container { display: flex; flex-direction: column; height: 100vh; background-color: #f0f0f0; }\n    .header { background-color: #333; color: white; padding: 15px; text-align: center; }\n    .main-content { display: flex; flex: 1; padding: 15px; gap: 15px; overflow: hidden; }\n    .controls-panel { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); width: 300px; overflow-y: auto; }\n    .viewer-panel { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }\n    .dicom-image { max-width: 100%; max-height: 450px; object-fit: contain; border: 1px solid #ddd; }\n    .placeholder-text { color: #777; font-style: italic; }\n    .error-message { color: red; background-color: #ffe0e0; border: 1px solid red; padding: 10px; border-radius: 5px; margin-bottom: 10px; }\n    .loading-indicator, .processing-indicator { margin: 10px 0; color: #007bff; }\n    .button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; width: 100%; }\n    .button:hover { background-color: #0056b3; }\n    .button:disabled { background-color: #ccc; cursor: not-allowed; }\n    .file-input { margin-bottom: 15px; }\n    .view-mode-toggle button { margin-right: 10px; padding: 8px 12px; /* ... other styles */ }\n    .view-mode-toggle button.active { background-color: #007bff; color: white; }\n    .image-navigation { margin-top: 10px; }\n    .image-navigation button { margin: 0 5px; }\n    .upload-info { background-color: #e7f3ff; border-left: 4px solid #007bff; padding: 10px; margin-top: 15px; font-size: 0.9em;}\n  `;\n\n  return (\n    <>\n      <style>{styles}</style>\n      <div className=\"dicom-viewer-container\">\n        <header className=\"header\">\n          <h1>NELSVIEW: DICOM Image Viewer</h1>\n        </header>\n        <main className=\"main-content\">\n          <aside className=\"controls-panel\">\n            <h2>Controls</h2>\n            <div className=\"file-input\">\n              <label htmlFor=\"file-upload\">Upload DICOM Files (.dcm, .ima):</label>\n              <input id=\"file-upload\" type=\"file\" multiple accept=\".dcm,.ima\" onChange={handleFileChange} />\n              {files.length > 0 && <p>{files.length} file(s) selected.</p>}\n            </div>\n            <button className=\"button\" onClick={handleUploadFiles} disabled={isLoading || files.length === 0}>\n              {isLoading ? 'Uploading...' : 'Upload Selected Files'}\n            </button>\n\n            {uploadId && (\n              <div className=\"upload-info\">\n                <p><strong>Status:</strong> {fileCount} file(s) uploaded successfully.</p>\n                <p><strong>Upload ID:</strong> {uploadId.substring(0,8)}...</p>\n              </div>\n            )}\n\n            {uploadId && (\n              <>\n                <div className=\"view-mode-toggle\" style={{ marginTop: '20px', marginBottom: '10px' }}>\n                  <label>Select View Mode:</label><br/>\n                  <button onClick={() => setViewMode('2d')} className={viewMode === '2d' ? 'active' : ''}>2D Slices</button>\n                  <button onClick={() => setViewMode('3d')} className={viewMode === '3d' ? 'active' : ''}>3D Hologram</button>\n                </div>\n                <button className=\"button\" onClick={handleProcessFiles} disabled={isProcessing || !uploadId}>\n                  {isProcessing ? 'Processing...' : `Process for ${viewMode.toUpperCase()} View`}\n                </button>\n              </>\n            )}\n          </aside>\n          <section className=\"viewer-panel\">\n            <h2>{viewMode === '2d' ? 'DICOM Slice Viewer' : '3D Hologram Viewer'}</h2>\n            {isLoading && <div className=\"loading-indicator\">Uploading files...</div>}\n            {isProcessing && <div className=\"processing-indicator\">Processing DICOM data... Please wait.</div>}\n            {error && <div className=\"error-message\">{error}</div>}\n            \n            {renderImageViewer()}\n          </section>\n        </main>\n      </div>\n    </>\n  );\n};\n\nexport default DicomViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}